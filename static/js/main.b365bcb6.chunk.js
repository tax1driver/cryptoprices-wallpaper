(this.webpackJsonpwallpaper=this.webpackJsonpwallpaper||[]).push([[0],{26:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),c=a(16),n=a.n(c),i=a(13),o=a(3),l=a(0),h=a(1),d=a(10),p=a(6),u=a(5),m=a(28),b=a(4),j=(r.a.Component,function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).renderChars=s.renderChars.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.char,a=e.charsSet,s=e.textSize,r=void 0===s?20:s,c=a.indexOf(t),n=1.5*r,i={transform:"translate(0, ".concat(-1*c*n,"px)"),boxSizing:"border-box"};return Object(b.jsx)("div",{className:"ticker__char-column",style:i,children:this.renderChars({textSize:r,containerHeight:n})})}},{key:"renderChars",value:function(e){var t=this.props.charsSet,a=void 0===t?[]:t,s=e.textSize,r=e.containerHeight,c={height:r,padding:0,lineHeight:"".concat(r,"px"),fontSize:s,color:"#fff",fontWeight:100,textAlign:"center",width:30};return a.map((function(e,t){return Object(b.jsx)("div",{className:"ticker__char-column__char",style:c,children:e},t)}))}}]),a}(r.a.Component)),v=a(8),y=a(17);v.d.register(v.c,v.j,v.l,v.i,v.h,v.p,v.q,v.g,v.f);var g=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={currentPrice:0,prevPrice:0,changeDaily:0,volume:0,updateTime:"",lastId:0,hasErrored:!1,currentDayData:{}},s.updatePrices=s.updatePrices.bind(Object(d.a)(s)),s.updateDayChart=s.updateDayChart.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){setInterval(this.updatePrices,1e3),setInterval(this.updateDayChart(),18e4)}},{key:"updateDayChart",value:function(){var e=(new Date).getTime(),t=e-864e5,a=[];fetch("https://api.binance.com/api/v3/klines?symbol=".concat(this.props.pair,"&interval=15m&startTime=").concat(t,"&endTime=").concat(e,"&limit=400")).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){var t=e[4];a.push(t)}))})).catch((function(e){console.log(e)}));var s=Object.assign({},this.state);s.currentDayData=a,this.setState(s)}},{key:"updatePrices",value:function(){var e=this;fetch("https://api.binance.com/api/v3/ticker/24hr?symbol="+this.props.pair).then((function(e){return e.json()})).then((function(t){var a,s,r=e.state.updateTime;t.lastId!==e.state.lastId&&(a=new Date,s=s?"getUTC":"get",r="%H:%M:%S %d-%m-%Y".replace(/%[YmdHMS]/g,(function(e){switch(e){case"%Y":return a[s+"FullYear"]();case"%m":e=1+a[s+"Month"]();break;case"%d":e=a[s+"Date"]();break;case"%H":e=a[s+"Hours"]();break;case"%M":e=a[s+"Minutes"]();break;case"%S":e=a[s+"Seconds"]();break;default:return e.slice(1)}return("0"+e).slice(-2)})),e.setState({currentPrice:parseFloat(t.lastPrice),prevPrice:parseFloat(e.state.currentPrice),changeDaily:parseFloat(t.priceChangePercent),volume:parseFloat(t.quoteVolume),lastId:t.lastId,updateTime:r,hasErrored:!1,currentDayData:e.state.currentDayData}))})).catch((function(t){e.setState({currentPrice:0,prevPrice:0,changeDaily:0,volume:0,updateTime:0,hasErrored:!0,currentDayData:e.state.currentDayData})}))}},{key:"render",value:function(){var e="remove",t="tick-zero";this.state.currentPrice>this.state.prevPrice?(e="arrow_upward",t="tick-pos"):this.state.currentPrice<this.state.prevPrice&&(e="arrow_downward",t="tick-neg");var a,s=1,r=.2,c={labels:Array.from(Array(this.state.currentDayData.length).keys()),datasets:[{data:this.state.currentDayData,fill:!0,borderColor:this.state.changeDaily<0?"rgba(175, 63, 61, ".concat(.25*s,")"):"rgba(21, 159, 73, ".concat(.25*s,")"),borderWidth:2,backgroundColor:this.state.changeDaily<0?"rgba(175, 63, 61, ".concat(.125*s,")"):"rgba(21, 159, 73, ".concat(.125*s,")"),tension:r,pointRadius:0}]};return Object(b.jsxs)("div",{className:"symbol",children:[Object(b.jsx)("div",{className:"symbol__chart",children:Object(b.jsx)(y.a,{type:"line",options:{responsive:!1,plugins:{legend:{display:!1}},scales:{y:{display:!1},x:{display:!1}},layout:{padding:0}},data:c,width:430,height:180})}),Object(b.jsxs)("div",{className:"symbol__row-info",children:[Object(b.jsx)("span",{className:"symbol__name",ref:"name",children:this.props.asset}),Object(b.jsxs)("span",{className:"symbol__price",children:["$",this.state.currentPrice.toFixed(this.props.precision)]}),Object(b.jsx)("span",{className:"symbol__tick "+t,children:Object(b.jsx)("span",{className:"material-icons",children:e})})]}),Object(b.jsxs)("div",{className:"symbol__row-info",children:[Object(b.jsxs)("div",{className:"symbol__meta",children:[Object(b.jsx)("span",{className:"symbol__meta-title",children:"CHANGE 24H"}),Object(b.jsxs)("span",{className:"symbol__meta-desc "+(this.state.changeDaily>=0?"tick-pos":"tick-neg"),children:[this.state.changeDaily.toFixed(2),"%"]})]}),Object(b.jsxs)("div",{className:"symbol__meta",children:[Object(b.jsx)("span",{className:"symbol__meta-title",children:"VOLUME"}),Object(b.jsxs)("span",{className:"symbol__meta-desc",children:["$",(a=this.state.volume.toFixed(0),a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})]})]}),Object(b.jsx)("div",{className:"symbol__row-spacer"}),Object(b.jsxs)("div",{className:"symbol__row-info",children:[Object(b.jsx)("span",{className:"symbol__status "+(this.state.hasErrored?"tick-neg":"tick-pos"),children:this.state.hasErrored?"ERROR":"MARKET OPEN"}),Object(b.jsx)("span",{className:"symbol__exchange",children:this.state.hasErrored?"":"/ BINANCE / UPDATED "+this.state.updateTime})]})]})}}]),a}(r.a.Component),O=function(e){var t,a=new URLSearchParams(window.location.search),s=[],r=Object(o.a)(a.entries());try{for(r.s();!(t=r.n()).done;){var c=t.value;console.log(c);var n=Object(i.a)(c,2),l=(n[0],n[1].split(";")),h=Object(i.a)(l,3),d=h[0],p=h[1],u=h[2];s.push(Object(b.jsx)(g,{asset:d,pair:p,precision:parseInt(u)})),console.log(s)}}catch(m){r.e(m)}finally{r.f()}return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)("div",{className:"box-vertical",children:Object(b.jsx)("div",{className:"box-horizontal",children:s})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=Object(b.jsx)(O,{});n.a.render(f,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.b365bcb6.chunk.js.map